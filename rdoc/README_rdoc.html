<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>README</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body class="file">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./README_rdoc.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./DatastaxRails.html">SolandraObject</a>
  
    <li><a href="./DatastaxRails/AssociationTypeMismatch.html">SolandraObject::AssociationTypeMismatch</a>
  
    <li><a href="./DatastaxRails/Associations.html">SolandraObject::Associations</a>
  
    <li><a href="./DatastaxRails/Associations/Builder.html">SolandraObject::Associations::Builder</a>
  
    <li><a href="./DatastaxRails/Associations/Builder/BelongsTo.html">SolandraObject::Associations::Builder::BelongsTo</a>
  
    <li><a href="./DatastaxRails/Associations/ClassMethods.html">SolandraObject::Associations::ClassMethods</a>
  
    <li><a href="./DatastaxRails/AttributeMethods.html">SolandraObject::AttributeMethods</a>
  
    <li><a href="./DatastaxRails/AttributeMethods/ClassMethods.html">SolandraObject::AttributeMethods::ClassMethods</a>
  
    <li><a href="./DatastaxRails/Base.html">SolandraObject::Base</a>
  
    <li><a href="./DatastaxRails/CassandraFinderMethods.html">SolandraObject::CassandraFinderMethods</a>
  
    <li><a href="./DatastaxRails/CassandraFinderMethods/ClassMethods.html">SolandraObject::CassandraFinderMethods::ClassMethods</a>
  
    <li><a href="./DatastaxRails/DeleteRestrictionError.html">SolandraObject::DeleteRestrictionError</a>
  
    <li><a href="./DatastaxRails/FinderMethods.html">SolandraObject::FinderMethods</a>
  
    <li><a href="./DatastaxRails/ModificationMethods.html">SolandraObject::ModificationMethods</a>
  
    <li><a href="./DatastaxRails/NamedScope.html">SolandraObject::NamedScope</a>
  
    <li><a href="./DatastaxRails/NamedScope/ClassMethods.html">SolandraObject::NamedScope::ClassMethods</a>
  
    <li><a href="./DatastaxRails/Railtie.html">SolandraObject::Railtie</a>
  
    <li><a href="./DatastaxRails/RecordNotFound.html">SolandraObject::RecordNotFound</a>
  
    <li><a href="./DatastaxRails/RecordNotSaved.html">SolandraObject::RecordNotSaved</a>
  
    <li><a href="./DatastaxRails/Reflection.html">SolandraObject::Reflection</a>
  
    <li><a href="./DatastaxRails/Reflection/ClassMethods.html">SolandraObject::Reflection::ClassMethods</a>
  
    <li><a href="./DatastaxRails/Reflection/MacroReflection.html">SolandraObject::Reflection::MacroReflection</a>
  
    <li><a href="./DatastaxRails/Relation.html">SolandraObject::Relation</a>
  
    <li><a href="./DatastaxRails/SearchMethods.html">SolandraObject::SearchMethods</a>
  
    <li><a href="./DatastaxRails/SolandraObjectError.html">SolandraObject::SolandraObjectError</a>
  
    <li><a href="./DatastaxRails/SpawnMethods.html">SolandraObject::SpawnMethods</a>
  
    <li><a href="./DatastaxRails/SunspotAdapters.html">SolandraObject::SunspotAdapters</a>
  
    <li><a href="./DatastaxRails/SunspotAdapters/SolandraObjectDataAccessor.html">SolandraObject::SunspotAdapters::SolandraObjectDataAccessor</a>
  
    <li><a href="./DatastaxRails/SunspotAdapters/SolandraObjectInstanceAdapter.html">SolandraObject::SunspotAdapters::SolandraObjectInstanceAdapter</a>
  
    <li><a href="./DatastaxRails/Validations.html">SolandraObject::Validations</a>
  
    <li><a href="./DatastaxRails/Validations/ClassMethods.html">SolandraObject::Validations::ClassMethods</a>
  
    <li><a href="./DatastaxRails/Validations/UniquenessValidator.html">SolandraObject::Validations::UniquenessValidator</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation" class="description">
  
<h1 id="label-DatastaxRails"><a href="SolandraObject.html">SolandraObject</a></h1>

<p><a href="DatastaxRails.html">SolandraObject</a> merges the functionality
of Gotime’s CassandraObject and Sunspot::Rails. It does this by
automatically indexing attributes declared as part of the model.  The
general idea is to use this with Solandra so that your index is distributed
along with your data, but if you’re not running distributed then
there’s no reason it can’t be used with a normal SOLR installation.</p>

<h3 id="label-Installation">Installation</h3>

<p>Add the following to your Gemfile:</p>

<pre>gem 'thrift', '~&gt; 0.7.0'
gem 'cassandra', '~&gt; 0.12.1'
gem 'datastax_rails', '~&gt; 0.1.0'</pre>

<p>Change version numbers as appropriate.</p>

<p>Of course you need a solr/solandra instance running to use this. It also
needs to be properly configured. Create a default config file for
sunspot_rails like this:</p>

<pre>rails generate sunspot_rails:install</pre>

<p>Then edit config/sunspot.yml appropriately. You might need to set the path
option for solr like</p>

<pre>path: /solandra</pre>

<p>when using Solandra (you will get 404 errors if this setting is incorrect).</p>

<p>Configure solandra with the <a
href="DatastaxRails.html">SolandraObject</a> schema:</p>

<pre>rake so:create_solr
rake so:create_solr RAILS_ENV=test</pre>

<h3 id="label-Example">Example</h3>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Category</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">DatastaxRails</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">key</span> :<span class="ruby-identifier">uuid</span>
  <span class="ruby-identifier">string</span> :<span class="ruby-identifier">name</span>
  <span class="ruby-identifier">string</span> :<span class="ruby-identifier">description</span>
  <span class="ruby-identifier">array</span> :<span class="ruby-identifier">sub_categories</span>, :<span class="ruby-identifier">unique</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">json</span> :<span class="ruby-identifier">extra_attributes</span>
<span class="ruby-keyword">end</span>
</pre>

<p>For more examples and instructions on how to use this, see the API docs and
consult the documentation sunspot, sunspot_rails, cassandra_object and
solandra.</p>

</div>



<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.11.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

